>>> from psil import read, eval

>>> eval(read("(+ 1 2 3 4)"))
10

>>> eval(read("(set (quote my-age) 7)"))
7
>>> eval(read("my-age"))
7
>>> eval(read("(set 'my-age 8)"))
8
>>> eval(read("my-age"))
8
>>> eval(read("(setq my-age 9)"))
9
>>> eval(read("my-age"))
9
>>> eval(read("(setq my-age 10)"))
10
>>> eval(read("my-age"))
10

>>> eval(read("9"))
9
>>> eval(read("10"))
10
>>> eval(read("my-age"))
10
>>> eval(read("t"))
T
>>> eval(read("nil"))
NIL
>>> eval(read("()"))
NIL
>>> eval(read("your-age"))
Traceback (most recent call last):
    ...
UndefinedSymbolError: your-age

>>> eval(read("(+ 2 13 45)"))
60
>>> eval(read("(+ my-age 1)"))
11
>>> eval(read("(+ your-age 1)"))
Traceback (most recent call last):
    ...
UndefinedSymbolError: your-age
>>> eval(read("(foo 1 3 4)"))
Traceback (most recent call last):
    ...
UndefinedSymbolError: foo

>>> eval(read("(+ 1 2)"))
3
>>> eval(read("(- 9 5)"))
4
>>> eval(read("(* 3 4 5)"))
60
>>> eval(read("(/ 15 3)"))
5

>>> eval(read("(cons 1 nil)"))
[1]
>>> eval(read("(cons 1 (cons 2 nil))"))
[1, 2]

>>> eval(read("'a"))
<a>
>>> eval(read("(cons 'a '(b c d))"))
[<a>, <b>, <c>, <d>]
>>> eval(read("(list 2 3 4)"))
[2, 3, 4]
>>> eval(read("(list 'a '(a s d f))"))
[<a>, [<a>, <s>, <d>, <f>]]
>>> eval(read("(append '(a b) '(c d))"))
[<a>, <b>, <c>, <d>]

>>> eval(read("(first '(a s d f))"))
<a>
>>> eval(read("(first '((a s) d f))"))
[<a>, <s>]
>>> eval(read("(rest '(a s d f))"))
[<s>, <d>, <f>]
>>> eval(read("(rest '((a s) d f))"))
[<d>, <f>]
>>> eval(read("(rest '((a s) (d f)))"))
[[<d>, <f>]]
>>> eval(read("(setq a '(a s d f))"))
[<a>, <s>, <d>, <f>]
>>> eval(read("(first a)"))
<a>
>>> eval(read("(rest a)"))
[<s>, <d>, <f>]
>>> eval(read("(first (rest a))"))
<s>

>>> eval(read("(cons 'a a)"))
[<a>, <a>, <s>, <d>, <f>]
>>> eval(read("a"))
[<a>, <s>, <d>, <f>]
>>> eval(read("(setq a (cons 'a a))"))
[<a>, <a>, <s>, <d>, <f>]
>>> eval(read("a"))
[<a>, <a>, <s>, <d>, <f>]

>>> eval(read("(length '(1 2 3))"))
3
>>> eval(read("(length a)"))
5
>>> eval(read("(length (append a a))"))
10
>>> eval(read("(length '(append a a))"))
3
>>> eval(read("(length (list a a))"))
2

>>> eval(read("(atom 'a)"))
T
>>> eval(read("(atom a)"))
NIL
>>> eval(read("(listp 'a)"))
NIL
>>> eval(read("(listp a)"))
T

>>> eval(read("(setq my-age (+ my-age 1))"))
11
>>> eval(read("(setq a (cdr a))"))
[<a>, <s>, <d>, <f>]
>>> eval(read("(setq words '(a list of words))"))
[<a>, <list>, <of>, <words>]
>>> eval(read("(setq words (cons 'this (rest words)))"))
[<this>, <list>, <of>, <words>]

#>>> eval(read("(setf (first words) 'the)"))
#<the>
#>>> eval(read("words"))
#[<the>, <list>, <of>, <words>]
#>>> eval(read("(setf (third words) 'is)"))
#<is>
#>>> eval(read("words"))
#[<the>, <list>, <is>, <words>]
#>>> eval(read("(setf (rest words) '(game is up))"))
#[<game>, <is>, <up>]
#>>> eval(read("words"))
#[<the>, <game>, <is>, <up>]

>>> eval(read("(defun square (x) (* x x))"))
<square>
>>> eval(read("(square 2)"))
4
>>> eval(read("(square 1.4142158)"))
2.0000063289696399
